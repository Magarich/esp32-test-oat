
# esp32-testOTA

Небольшой пример проекта для тестирования OTA обновлень для плат ESP32 с использованием PlatformIO.

## Описание

Проект содержит минимальную реализацию прошивки для ESP32 (см. `src/main.cpp`) с поддержкой обновлений по воздуху (OTA). Подойдёт для тестирования рабочего процесса билда и развертывания новых версий прошивки.

## Требования
- PlatformIO (VS Code extension или CLI)
- ESP32 devkit (например, esp32-c3-devkitm-1)
- USB‑кабель и доступ к плате

## Быстрый старт

Открыть проект в VS Code с PlatformIO или использовать PlatformIO CLI.

Сборка:

```bash
pio run
```

Загрузка на плату (используя окружение из `platformio.ini`):

```bash
pio run -e <env_name> -t upload
```

Монитор последовательного порта (по умолчанию 115200):

```bash
pio device monitor -b 115200
```

## OTA (обновления по воздуху)

- Файл `version.txt` содержит текущую версию прошивки (используется проектом для контроля версий).
- Файл `min_ota.csv` может использоваться для управления списком OTA‑образов/информацией (проверьте логику в `src/main.cpp`).
- Чтобы протестировать OTA: увеличьте версию в `version.txt`, соберите новый бинарник и разместите его в том месте/сервере, откуда прошивка ожидает обновление (см. реализацию в `src/main.cpp`).

> Важно: конкретный механизм доставки OTA (HTTP, HTTPS, локальный сервер и т.д.) реализуется в коде — откройте `src/main.cpp` для деталей и настроек.

## Структура репозитория

- `platformio.ini` — конфигурация PlatformIO
- `src/main.cpp` — основной исходный код
- `include/` — заголовочные файлы и определения
- `lib/` — сторонние библиотеки (локальные)
- `version.txt` — текущая версия прошивки
- `min_ota.csv` — вспомогательный CSV для OTA (под проект)

## Вклад и лицензия

Если вы планируете публичный репозиторий — добавьте файл `LICENSE`. Для локальной разработки просто коммитьте изменения как обычно.

## Рекомендации

- Коммит и пуш изменений после добавления `README.md`:

```bash
git add README.md
git commit -m "Add README"
git push
```

- При работе с OTA сначала проверяйте вывод в мониторе последовательного порта.

Если хочешь, могу добавить пример `LICENSE` (MIT) и настроить инструкции под конкретное окружение из `platformio.ini`.
